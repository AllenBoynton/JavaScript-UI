// Allen Boynton
// Miu 1506
// json data

var top5 ={	
	'theTitle': 'Artists',
		'songList': [
			 {
				'title'		: 'Good for You (feat. A$AP Rocky) - Single',
				'artist'	: 'Selena Gomez',
				'time'		: 'Time: 3:41',
				'genre'		: 'Genre: Pop',
				'released'	: 'Released June 22, 2015',
				'label'		: 'Interscope Records',			
				'rating'	: 'Rating: #2 Rated 4.5 out of 5 stars.',
				'album'		: 'images/Good_for_you.jpg',
				'url'		: 'https://www.youtube.com/watch?v=DR4FJQ4dkY4'
			},
			{
				'title'		: 'Cheerleader (Felix Jaehn Remix Radio Edit) - Single',
				'artist'	: 'Omi',
				'time'		: 'Time: 3:00',
				'genre'		: 'Genre: Pop',
				'released'	: 'Released May 20, 2014',
				'label'		: 'Ultra Records',			
				'rating'	: 'Rating: #2 Rated 4.5 out of 5 stars.',
				'album'		: 'images/cheerleader.jpg',
				'url'		: 'https://www.youtube.com/watch?v=kDX4Eezxiyk'
			},
			{
				'title'		: 'Fight Song',
				'artist'	: 'Rachel Platten',
				'time'		: 'Time: 3:23',
				'genre'		: 'Genre: Pop',
				'released'	: 'Released May 11, 2015',
				'label'		: 'Columbia Records',			
				'rating'	: 'Rating: #3 Rated 4 out of 5 stars.',
				'album'		: 'images/fightsong.jpg',
				'url'		: 'https://www.youtube.com/watch?v=xo1VInw-SKc'
			},
			{
				'title'		: 'Can\'t Feel My Face - Single',
				'artist'	: 'The Weeknd',
				'time'		: 'Time: 3:35',
				'genre'		: 'Genre: R&B/Soul',
				'released'	: 'Released June 8, 2015',
				'label'		: 'The Weeknd XO',			
				'rating'	: 'Rating: #4 Rated 4.5 out of 5 stars.',
				'album'		: 'images/theweeknd.jpg',
				'url'		: 'https://www.youtube.com/watch?v=dqt8Z1k0oWQ'
			},
			{
				'title'		: 'Bad Blood (feat. Kendrick Lamar) - Single',
				'artist'	: 'Taylor Swift',
				'time'		: 'Time: 3:19',
				'genre'		: 'Genre: Pop',
				'released'	: 'Released May 17, 2015',
				'label'		: 'Big Machine Records, LLC',			
				'rating'	: 'Rating: #5 Rated 4 out of 5 stars.',
				'album'		: 'images/badblood.png',
				'url'		: 'https://www.youtube.com/watch?v=QcIy9NiNbmo'
			}
		]
};

// Function for music list tableview
var getSongs = function(){	
	//Create song list window
	var songWindow = Ti.UI.createWindow ({
		backgroundColor: 'black',
		title: 'Top 5'
	});
	
	// Aesthetic header
	var header = Ti.UI.createLabel ({
		backgroundColor: 'white',
		text: 'Based on your listening',
		top: 0,
		height: 30,
		width: '100%',
		color: '#007aff',
		textAlign: 'center',
		font: {fontSize: 17, fontFamily:'LobsterTwo-Italic'}
	});

	// For loop to display title and artist on Top5 page
	var spacing = 80;
	for(n in top5){
		var titleLabel = Ti.UI.createLabel ({
			text: top5[n].theTitle,
			left: 10,
			right: 10,
			top: spacing,
			height: 40,
			backgroundColor: 'black',
			color: 'white'
		});
		
		spacing = titleLabel.top + titleLabel.height + 10;
		console.log(spacing);
		for(m in top5[n].songList){
			var itemLabel = Ti.UI.createLabel ({
				text: top5[n].songList[m].artist,
				details: top5[n].songList[m].title,
				left: 10,
				right: 10,
				top: spacing,
				height: 40,
				backgroundColor: 'black',
				color: 'white'
			});
			
			navWindow.add(itemLabel);
			spacing = itemLabel.top + itemLabel.height + 10;
			itemLabel.addEventListener('click', getDetail);
		};
	};
		
	// Code for top 5 window
	songWindow.add(header);
	navWindow.openWindow(songWindow);
	loginButton.addEventListener('click', getSongs);
		
};

getSongs();
	
// Album details
var getDetail = function(){
	var detailWindow = Ti.UI.createWindow ({
		title: this.text,
		backgroundColor: 'black' 
	});
	var detailText = Ti.UI.createLabel ({
		text: this.details,
		top: 30,
		left: 10,
		right: 10
	});
	detailWindow.add(detailText);
	navWindow.openWindow(detailWindow);
};

// Main code
register.addEventListener('click', getRegistered);
getRegistered.enterButton.addEventListener('click', getSongs);

/* Function to check username and password
var checkUser = function(){
	
	if (textField2.value !== 'password' & textField1.value !== userName){
		alert('This username or password doesn\'t match what we have on file. Please re-enter your login details.');
	
	} else if (textField1.value !== userName){
		alert('This username doesn\'t match what we have on file. Please try again.');
	
	} else if (textField2.value !== password2){
		alert('This password doesn\'t match what we have on file. Please try again.');
	
	} else if (textField2.value == password2 & textField1.value == userName){
		signIn();
	};
};

	
if(Ti.Platform.name === 'iPhone OS'){
	songs.style = Ti.UI.iPhone.TableViewStyle.GROUPED;
}
*/